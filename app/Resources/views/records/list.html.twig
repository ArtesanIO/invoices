{% extends 'blocks/block.html.twig' %}

{% block subtitle_section %}{{ block.block }}{% endblock %}

{% block content %}
  {% import 'AppBundle::Components/buttons.html.twig' as buttons %}

  <div class="col-lg-3">

    <div class="panel panel-default panel-body">
      <form class="" action="" method="post">
        {{ form_widget(records_form) }}
        {{ buttons.submit() }}
      </form>
    </div>
  </div>
  <div class="col-lg-9">
    <div class="panel panel-default panel-body">
      <table class="table table-condensed">
        <thead>
          <tr>
            <th>#</th>
            <th>{{ 'sections.records.titles.description'|trans }}</th>
            <th class="text-right">{{ 'sections.records.titles.record_date'|trans }}</th>
            <th class="text-right">{{ 'sections.records.titles.value'|trans }}</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          {% for record in records %}
          <tr>
            <td>{{ record.id }}</td>
            <td>{{ record.description }}</td>
            <td class="text-right">{{ record.recordDate|date('d-m-Y') }}</td>
            <td class="text-right">{{ record.value }}</td>
            <td class="text-right">
              {{ buttons.action('actions.edit'|trans, { 'path': 'records_edit', 'args': { 'block': block.id, 'record': record.id } }) }}
          </td>
          </tr>
          {% endfor %}
          <tr>
                <th colspan="3"></th>
                <th class="text-right"><h3>${{ block.recordsTotal }}</h3></th>
                <th></th>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
{% endblock %}
